jQuery((function(e){e.ccmSuggest=function(t,l){var s,a,c,n;function i(){var e=s.offset();a.css({top:e.top+t.offsetHeight+"px",left:e.left+"px"})}function r(){var e;return!!a.is(":visible")&&((e=a.children("li."+l.selectClass)).length||(e=!1),e)}function u(){$currentResult=r(),$currentResult&&(l.multiple?(-1!=s.val().indexOf(l.multipleSep)?$currentVal=s.val().substr(0,s.val().lastIndexOf(l.multipleSep)+l.multipleSep.length)+" ":$currentVal="",s.val($currentVal+$currentResult.text()+l.multipleSep+" "),s.focus()):s.val($currentResult.text()),a.hide(),s.trigger("change"),l.onSelect&&l.onSelect.apply(s[0]))}s=e(t).attr("autocomplete","off"),a=e("<ul/>"),c=!1,n=0,a.addClass(l.resultsClass).appendTo("body"),i(),e(window).on("load",i).on("resize",i),s.blur((function(){setTimeout((function(){a.hide()}),200)})),s.keydown((function(e){if(/27$|38$|40$/.test(e.keyCode)&&a.is(":visible")||/^13$|^9$/.test(e.keyCode)&&r())switch(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,e.keyCode){case 38:!function(){var e=r();e?e.removeClass(l.selectClass).prev().addClass(l.selectClass):a.children("li:last-child").addClass(l.selectClass)}();break;case 40:$currentResult=r(),$currentResult?$currentResult.removeClass(l.selectClass).next().addClass(l.selectClass):a.children("li:first-child").addClass(l.selectClass);break;case 9:case 13:u();break;case 27:a.hide()}else s.val().length!=n&&(c&&clearTimeout(c),c=setTimeout(ccm_suggest,l.delay),n=s.val().length)}))},e.fn.ccmSuggest=function(t,l){if(t)return(l=l||{}).multiple=l.multiple||!1,l.multipleSep=l.multipleSep||",",l.source=t,l.delay=l.delay||100,l.resultsClass=l.resultsClass||"ac_results",l.selectClass=l.selectClass||"ac_over",l.matchClass=l.matchClass||"ac_match",l.minchars=l.minchars||2,l.delimiter=l.delimiter||"\n",l.onSelect=l.onSelect||!1,l.maxCacheSize=l.maxCacheSize||65536,this.each((function(){new e.ccmSuggest(this,l)})),this}}));
//# sourceMappingURL=ccm-suggest.js.map