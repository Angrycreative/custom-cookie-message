{"version":3,"file":"/js/custom-cookie-message-backend.js","mappings":"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","sources":["webpack://custom-cookie-message/./src/javascript/custom-cookie-message-backend.js"],"sourcesContent":["jQuery( function ( $ ) {\n\t'use strict';\n\n\tvar cookies = [];\n\n\t/**\n\t * Retrieve a list of cookies.\n\t *\n\t * @returns {Array|*}\n\t */\n\tfunction getCookies () {\n\t\tvar pairs = document.cookie.split( ';' );\n\t\tvar cookies;\n\n\t\tcookies = pairs.map( function ( cookie ) {\n\t\t\treturn cookie.split( '=' )[ 0 ];\n\t\t});\n\n\t\treturn cookies;\n\t}\n\n\tjQuery.get({\n\t\turl: '/',\n\t\tcrossDomain: true,\n\t\tbeforeSend: function ( xhr ) {\n\t\t\txhr.setRequestHeader( 'withCredentials', true );\n\t\t}\n\t})\n\t      .done( function () {\n\t\t      cookies = getCookies();\n\t\t      var html;\n\n\t\t      cookies.map( function ( cookie ) {\n\t\t\t      html = '<div class=\"cookie\">';\n\t\t\t      html = html + 'Cookie machine name: ' + cookie;\n\t\t\t      html = html + '<label for=\"' + cookie + '-label\">Label: ';\n\t\t\t      html = html + '<input type=\"text\" name=\"cookie_list[' + cookie.trim + '][label]\" id=\"' + cookie + '-label\">';\n\t\t\t      html = html + '</label>';\n\t\t\t      html = html + '</div>';\n\n\t\t\t      // TODO: This code should be refactored.\n\t\t\t      // $( '.cookie_list_wrapper' ).append( html ).fadeIn();\n\t\t      });\n\t      });\n\n\t// Add Color Picker to all inputs that have 'color-field' class\n\t$( '.cpa-color-picker' ).wpColorPicker();\n\n\tlet life_time_value = 0;\n\n\tswitch ( parseInt( $( '#life_time_slider_amount' ).val() ) ) {\n\t\tcase 0:\n\t\t\tlife_time_value = 1;\n\t\t\tbreak;\n\t\tcase customCookieMessageAdminLocalize.life_time.week_seconds:\n\t\t\tlife_time_value = 2;\n\t\t\tbreak;\n\t\tcase customCookieMessageAdminLocalize.life_time.month_seconds:\n\t\t\tlife_time_value = 3;\n\t\t\tbreak;\n\t\tcase customCookieMessageAdminLocalize.life_time.year_seconds:\n\t\t\tlife_time_value = 4;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlife_time_value = 5;\n\t\t\tbreak;\n\t}\n\n\t$( '#life_time_slider' ).slider({\n\t\trange: 'min',\n\t\tvalue: parseInt( life_time_value ),\n\t\tmin: 1,\n\t\tmax: 5,\n\t\tcreate: function () {\n\t\t\tswitch ( parseInt( $( '#life_time_slider_amount' ).val() ) ) {\n\t\t\t\tcase 0:\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.no_life_time );\n\t\t\t\t\tbreak;\n\t\t\t\tcase customCookieMessageAdminLocalize.life_time.week_seconds:\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.week_life_time );\n\t\t\t\t\tbreak;\n\t\t\t\tcase customCookieMessageAdminLocalize.life_time.month_seconds:\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.month_life_time );\n\t\t\t\t\tbreak;\n\t\t\t\tcase customCookieMessageAdminLocalize.life_time.year_seconds:\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.year_life_time );\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.end_less_life_time );\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t},\n\t\tslide: function ( event, ui ) {\n\t\t\tswitch ( parseInt( ui.value ) ) {\n\t\t\t\tcase 1:\n\t\t\t\t\t$( '#life_time_slider_amount' ).val( 0 );\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.no_life_time );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\t$( '#life_time_slider_amount' ).val( customCookieMessageAdminLocalize.life_time.week_seconds );\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.week_life_time );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\t$( '#life_time_slider_amount' ).val( customCookieMessageAdminLocalize.life_time.month_seconds );\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.month_life_time );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\t$( '#life_time_slider_amount' ).val( customCookieMessageAdminLocalize.life_time.year_seconds );\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.year_life_time );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\t$( '#life_time_slider_amount' ).val( 9999 * customCookieMessageAdminLocalize.life_time.year_seconds );\n\t\t\t\t\t$( '.life_time_message' ).text( customCookieMessageAdminLocalize.life_time_messages.end_less_life_time );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t});\n\n\t$( '#opacity_slider' ).slider({\n\t\trange: 'min',\n\t\tvalue: parseInt( $( '#opacity_slider_amount' ).val() ),\n\t\tmin: 50,\n\t\tmax: 100,\n\t\tcreate: function () {\n\t\t\t$( '#opacity_slider_handle' ).text( $( '#opacity_slider_amount' ).val() + '%' );\n\t\t},\n\t\tslide: function ( event, ui ) {\n\t\t\t$( '#opacity_slider_handle' ).text( ui.value + '%' );\n\t\t\t$( '#opacity_slider_amount' ).val( ui.value );\n\t\t},\n\t});\n\n\t$( '#modal_overlay_opacity_slider' ).slider({\n\t\trange: 'min',\n\t\tvalue: parseInt( $( '#modal_overlay_opacity_amount' ).val() ),\n\t\tmin: 50,\n\t\tmax: 100,\n\t\tcreate: function () {\n\t\t\t$( '#modal_overlay_opacity_slider_handle' ).text( $( '#modal_overlay_opacity_amount' ).val() + '%' );\n\t\t},\n\t\tslide: function ( event, ui ) {\n\t\t\t$( '#modal_overlay_opacity_slider_handle' ).text( ui.value + '%' );\n\t\t\t$( '#modal_overlay_opacity_amount' ).val( ui.value );\n\t\t},\n\t});\n\n\t$( '#message_height_slider' ).slider({\n\t\trange: 'min',\n\t\tvalue: parseInt( $( '#message_height_slider_amount' ).val() ),\n\t\tmin: 5,\n\t\tmax: 40,\n\t\tcreate: function () {\n\t\t\t$( '#message_height_custom_handle' ).text( $( '#message_height_slider_amount' ).val() + ' px' );\n\t\t},\n\t\tslide: function ( event, ui ) {\n\t\t\t$( '#message_height_custom_handle' ).text( ui.value + ' px' );\n\t\t\t$( '#message_height_slider_amount' ).val( ui.value );\n\t\t},\n\t});\n\n\t$( '#button_height_slider' ).slider({\n\t\trange: 'min',\n\t\tvalue: parseInt( $( '#button_height_slider_amount' ).val() ),\n\t\tmin: 0,\n\t\tmax: 40,\n\t\tcreate: function () {\n\t\t\t$( '#button_height_handle' ).text( $( '#button_height_slider_amount' ).val() + ' px' );\n\t\t},\n\t\tslide: function ( event, ui ) {\n\t\t\t$( '#button_height_handle' ).text( ui.value + ' px' );\n\t\t\t$( '#button_height_slider_amount' ).val( ui.value );\n\t\t},\n\t});\n\n\t$( '#button_width_slider' ).slider({\n\t\trange: 'min',\n\t\tvalue: parseInt( $( '#button_width_slider_amount' ).val() ),\n\t\tmin: 5,\n\t\tmax: 40,\n\t\tcreate: function () {\n\t\t\t$( '#button_width_handle' ).text( $( '#button_width_slider_amount' ).val() + ' px' );\n\t\t},\n\t\tslide: function ( event, ui ) {\n\t\t\t$( '#button_width_handle' ).text( ui.value + ' px' );\n\t\t\t$( '#button_width_slider_amount' ).val( ui.value );\n\t\t},\n\t});\n\n\t$( '#cookies_page_link' ).ccmSuggest({\n\t\turl: customCookieMessageAdminLocalize.rest_post_link,\n\t\tcache: false,\n\t\tbeforeSend: function ( xhr ) {\n\t\t\txhr.setRequestHeader( 'X-WP-Nonce', customCookieMessageAdminLocalize.wp_rest_nonce );\n\t\t},\n\t}, {\n\t\tmultiple: false,\n\t});\n\n\t$( '#functional_cookies_ban' ).ccmSuggest({\n\t\turl: customCookieMessageAdminLocalize.rest_cookie_list + '/functional',\n\t\tcache: false,\n\t\tbeforeSend: function ( xhr ) {\n\t\t\txhr.setRequestHeader( 'X-WP-Nonce', customCookieMessageAdminLocalize.wp_rest_nonce );\n\t\t},\n\t}, {\n\t\tmultiple: true,\n\t});\n\n\t$( '#advertising_cookies_ban' ).ccmSuggest({\n\t\turl: customCookieMessageAdminLocalize.rest_cookie_list + '/advertising',\n\t\tcache: false,\n\t\tbeforeSend: function ( xhr ) {\n\t\t\txhr.setRequestHeader( 'X-WP-Nonce', customCookieMessageAdminLocalize.wp_rest_nonce );\n\t\t},\n\t}, {\n\t\tmultiple: true,\n\t});\n\n\t$( '.notice.custom-cookie-message' )\n\t\t.on( 'click', '.custom-cookie-message-upgrade', function ( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tlet formData = new FormData();\n\n\t\t\tformData.append( '_ccm_nonce', customCookieMessageAdminLocalize.ccm_nonce );\n\n\t\t\t$.ajax({\n\t\t\t\turl: customCookieMessageAdminLocalize.rest_url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcache: false,\n\t\t\t\tcontentType: false,\n\t\t\t\tprocessData: false,\n\t\t\t\tbeforeSend: function ( xhr ) {\n\t\t\t\t\txhr.setRequestHeader( 'X-WP-Nonce', customCookieMessageAdminLocalize.wp_rest_nonce );\n\t\t\t\t},\n\t\t\t})\n\t\t\t .done( function ( response ) {\n\t\t\t\t $( '.notice.custom-cookie-message' ).fadeOut().remove();\n\t\t\t })\n\t\t\t .fail( function ( response ) {\n\t\t\t\t $( '.notice.custom-cookie-message' ).removeClass( 'notice-info' ).addClass( 'notice-error' );\n\t\t\t });\n\t\t});\n\n\tfunction buttonStyling( checkbox ) {\n\t\tif ( !checkbox.is( ':checked' ) ) {\n\t\t\t$( '#button_height_slider, #button_width_slider' ).css( 'opacity', .5 );\n\t\t\tcheckbox.parents( '.form-table' ).find( '.wp-picker-container' ).css( 'opacity', .5 );\n\t\t\tcheckbox.parents( '.form-table' ).find( '#xclose_styling' ).parents( 'td' ).css( 'opacity', .5 );\n\t\t} else {\n\t\t\t$( '#button_height_slider, #button_width_slider' ).css( 'opacity', 1 );\n\t\t\tcheckbox.parents( '.form-table' ).find( '.wp-picker-container' ).css( 'opacity', 1 );\n\t\t\tcheckbox.parents( '.form-table' ).find( '#xclose_styling' ).parents( 'td' ).css( 'opacity', 1 );\n\t\t}\n\t}\n\n\t$( '#button_styling' ).change( function() {\n\t\tbuttonStyling( $( '#button_styling' ) );\n\t});\n\t$( document ).ready( buttonStyling( $( '#button_styling' ) ) );\n});\n"],"names":["jQuery","$","get","url","crossDomain","beforeSend","xhr","setRequestHeader","done","document","cookie","split","map","trim","wpColorPicker","life_time_value","parseInt","val","customCookieMessageAdminLocalize","life_time","week_seconds","month_seconds","year_seconds","buttonStyling","checkbox","is","css","parents","find","slider","range","value","min","max","create","text","life_time_messages","no_life_time","week_life_time","month_life_time","year_life_time","end_less_life_time","slide","event","ui","ccmSuggest","rest_post_link","cache","wp_rest_nonce","multiple","rest_cookie_list","on","e","preventDefault","FormData","append","ccm_nonce","ajax","rest_url","method","contentType","processData","response","fadeOut","remove","fail","removeClass","addClass","change","ready"],"sourceRoot":""}